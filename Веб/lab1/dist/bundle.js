$(document).ready((function(){!function(){var t=localStorage.getItem("tableData");if(t){var e=JSON.parse(t);$("#resultTable tbody").empty(),$.each(e,(function(t,e){$("#resultTable tbody").append("<tr><td>"+e.x+"</td><td>"+e.y+"</td><td>"+e.r+"</td><td>"+e.result+"</td><td>"+e.executionTime+"</td><td>"+e.currentTime+"</td></tr>")}))}var r=JSON.parse(localStorage.getItem("formData"));r&&($("#x").val(r.x),$("#y").val(r.y),$("#r").val(r.r))}(),document.getElementById("data-form"),document.getElementById("submitBtn").addEventListener("click",(function(){if(function(){const t=document.getElementById("error-message"),e=document.getElementById("error-audio");return function(){let t=$("#y").val().replace(",",".");return e=t,!!(!isNaN(parseFloat(e))&&isFinite(e)&&function(t){return/^-?[0-9]{0,6}(.|,)[0-9]{0,15}$/.test(t)}(t)&&-5<=t&&t<=5)&&(y=t,!0);var e}()?(t.textContent="",e.pause(),e.currentTime=0,!0):(t.textContent="Введёные данные некорректны",e.play(),!1)}()){var t={x:$("#x").val(),y:$("#y").val(),r:$("#r").val()};$.ajax({type:"POST",url:"result.php",data:t,success:function(t){$("#resultTable tbody").append(t),function(){var t=[];$("#resultTable tbody tr").each((function(){var e={x:$(this).find("td:eq(0)").text(),y:$(this).find("td:eq(1)").text(),r:$(this).find("td:eq(2)").text(),result:$(this).find("td:eq(3)").text(),executionTime:$(this).find("td:eq(4)").text(),currentTime:$(this).find("td:eq(5)").text()};t.push(e)})),localStorage.setItem("tableData",JSON.stringify(t));var e={x:$("#x").val(),y:$("#y").val(),r:$("#r").val()};localStorage.setItem("formData",JSON.stringify(e))}()},error:function(t,e,r){console.error(t.responseText)}})}})),$("#clearTable").click((function(){localStorage.removeItem("tableData"),$("#resultTable tbody").empty()})),document.getElementById("y").addEventListener("keydown",(function(t){13===t.keyCode&&t.preventDefault()}))}));